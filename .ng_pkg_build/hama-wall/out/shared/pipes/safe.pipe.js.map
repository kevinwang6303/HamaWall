{"version":3,"file":"safe.pipe.js","sourceRoot":"","sources":["../../../../../src/app/pages/home/shared/pipes/safe.pipe.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,IAAI,EAAiB,MAAM,eAAe,CAAC;AACpD,OAAO,EAAE,YAAY,EAA6D,MAAM,2BAA2B,CAAC;AAMpH,MAAM;;;;IAEJ,YAAoB,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAAK;;;;;;IAE1C,SAAS,CAAC,KAAa,EAAE,OAAe,MAAM;QACnD,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACb,KAAK,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YACnE,KAAK,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,wBAAwB,CAAC,KAAK,CAAC,CAAC;YACrE,KAAK,kBAAkB,EAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,wBAAwB,CACtE,QAAQ,KAAK,IAAI,CAClB,CAAC;YACF,KAAK,wBAAwB;gBAC3B,uBAAM,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC7B,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,wBAAwB,CAC7C,+BAA+B,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,kBAAkB,CACrE,CAAC;YACJ,KAAK,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;YACvE,KAAK,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;YACjE,KAAK,aAAa,EAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,8BAA8B,CAAC,KAAK,CAAC,CAAC;YACjF,SAAS,MAAM,IAAI,KAAK,CAAC,gCAAgC,IAAI,EAAE,CAAC,CAAC;SAClE;;;;YAvBJ,IAAI,SAAC;gBACJ,IAAI,EAAE,MAAM;aACb;;;;YALQ,YAAY","sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml, SafeResourceUrl, SafeScript, SafeStyle, SafeUrl } from '@angular/platform-browser';\r\n\r\n// https://forum.ionicframework.com/t/inserting-html-via-angular-2-use-of-domsanitizationservice-bypasssecuritytrusthtml/62562/5\r\n@Pipe({\r\n  name: 'safe'\r\n})\r\nexport class SafePipe implements PipeTransform {\r\n\r\n  constructor(private _sanitizer: DomSanitizer) { }\r\n\r\n  public transform(value: string, type: string = 'html'): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\r\n    switch (type) {\r\n      case 'html': return this._sanitizer.bypassSecurityTrustHtml(value);\r\n      case 'style': return this._sanitizer.bypassSecurityTrustStyle(value);\r\n      case 'background-image': return this._sanitizer.bypassSecurityTrustStyle(\r\n        `url('${value}')`\r\n      );\r\n      case 'youtu-background-image':\r\n        const url = value.split('/');\r\n        return this._sanitizer.bypassSecurityTrustStyle(\r\n          `url('https://i.ytimg.com/vi/${url[url.length - 1]}/hqdefault.jpg')`\r\n        ); // https://i.ytimg.com/vi/HSOtku1j600/hqdefault.jpg\r\n      case 'script': return this._sanitizer.bypassSecurityTrustScript(value);\r\n      case 'url': return this._sanitizer.bypassSecurityTrustUrl(value);\r\n      case 'resourceUrl': return this._sanitizer.bypassSecurityTrustResourceUrl(value);\r\n      default: throw new Error(`Invalid safe type specified: ${type}`);\r\n    }\r\n  }\r\n\r\n}\r\n"]}